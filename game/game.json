{"nodes":{"1":{"behavior_type":"BehaviorTree","name":"Start","values":{},"id":1,"position":[368,96]},"0":{"behavior_type":"BehaviorType","name":"Behavior Type","values":{"":[0.0,0.0,0.0,0.0,"Info Area"],"startup":[0.0,0.0,0.0,0.0,"Start"]},"id":0,"position":[0,0]},"2":{"behavior_type":"Screen","name":"Screen","values":{"script":[0.0,0.0,0.0,0.0,"width = 1024;   // 32 tiles\nheight = 608;   // 19 tiles\ntile_size = 32; // Default tile size\n\nlet ts = tile_size;\nlet gold = rgb(200, 200, 150);\nlet tm1 = tilemaps.get(\"UIParts1\");\nlet frame_start = tm1.get_tile(3, 0);\nlet movement_id = \"\";\nlet movement_visible = 0;\n\n// Draw the screen\nfn draw() {\n  draw.rect(rect(0, 0, width, height), rgb(0, 0, 0)); // Black background\n\n  // Header\n  draw.tile_sat(pos(4 * ts, 0), tm1.get_tile(0,7), gold);\n  draw.tile_sat(pos(5 * ts, 0), tm1.get_tile(1, 7), gold);\n\n  // Game\n  let game_x = 6 * ts;\n  let game_y = 10 * ts;\n  draw.game(rect(game_x, game_y, 19 * ts, 5 * ts));\n  draw.frame_sat(rect(game_x - ts, game_y - ts, 21 * ts, 7 * ts), gold, frame_start);\n\n  // Movement control\n  let offset = 0; if movement_id == \"west\" { offset = 1; };\n  draw.tile_sat(pos(1 * ts, 11 * ts), tm1.get_tile(1 + offset, 8), gold);\n  draw.tile_sat(pos(2 * ts, 10 * ts), tm1.get_tile(7, 6), gold);\n  draw.tile_sat(pos(3 * ts, 11 * ts), tm1.get_tile(4, 8), gold);\n  draw.tile_sat(pos(2 * ts, 12 * ts), tm1.get_tile(7, 7), gold);\n  movement_visible -= 1;\n  if movement_visible <= 0 { movement_id = \"\"; }\n}\n\n// Handle key down events\nfn key_down(key) {\n  if key == \"left\" {\n    movement_id = \"west\";\n    movement_visible = 2;\n    cmd.move(\"west\");\n  } else\n  if key == \"right\" {\n    cmd.move(\"east\");\n  } else\n  if key == \"up\" {\n    cmd.move(\"north\");\n  } else\n  if key == \"down\" {\n    cmd.move(\"south\");\n  }\n}\n"]},"id":2,"position":[231,252]}},"connections":[[1,"Bottom",2,"Top"]],"id":3800922882,"name":"New Behavior","curr_node_id":2}